# Repository Guidelines

## Project Structure & Module Organization
- `src/`: TypeScript source for the extension.
- `src/content.ts`: content script injected into Twitch pages.
- `src/popup/`: popup UI (`index.html`, `index.ts`, `index.css`).
- `src/types.ts`: shared types and constants.
- `assets/`: static files copied into the build (`assets/icons`, `assets/audios`).
- `dist/`: build output generated by `esbuild` and asset copy steps.
- `manifest.json`: Chrome extension manifest wired to `dist/` outputs.
- `settings.defaults.json`, `settings.json`: runtime configuration (local overrides are optional).

## Build, Test, and Development Commands
- `npm install`: install dependencies.
- `npm run build`: bundle TypeScript with `esbuild` and copy assets into `dist/`.
- `npm run lint`: run ESLint across the repo (uses Rocketseat config).

There is no dev server. For local testing, run `npm run build`, then load the extension from the project root in Chrome (the manifest references `dist/`).

## Coding Style & Naming Conventions
- TypeScript only; target is ES2020 (`tsconfig.json`).
- Indentation: 2 spaces, no tabs (match existing files).
- Prefer `camelCase` for variables/functions and `PascalCase` for types.
- Keep DOM selectors centralized (see `SELECTORS` in `src/content.ts`).
- Linting is enforced via `eslint.config.mjs`; run `npm run lint` before PRs.

## Testing Guidelines
- No automated test framework is configured.
- Validate changes manually:
  - Build the extension.
  - Load it in Chrome.
  - Verify popup UI behavior and ad-mute behavior on a live Twitch stream.

## Commit & Pull Request Guidelines
- Commit messages follow Conventional Commits (examples from history: `feat:`, `fix:`, `refactor:`).
- PRs should include:
  - A concise summary of user-visible behavior changes.
  - Steps to manually verify (especially for ad mute/unmute flows).
  - Screenshots for popup UI changes when applicable.

## Configuration & Asset Notes
- `settings.json` is optional; defaults are read from `settings.defaults.json`.
- Audio/icon assets are copied into `dist/` during build; reference them via `chrome.runtime.getURL`.
